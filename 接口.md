# 这里是目前为止我想到的需要实现的东西

## 分工

* z
  * controller
  * mechanics
* x
  * gameitem
* m
  * map
  * country

## 包目录

* team.vicilization.controller包
  * Vicilization类
  * State类
    * GameStart类
    * Setting类
    * MainGame类
    * Gameover类
  
* team.vicilization.map包
  * Map类
  * LandSquare类
  * TerrianType枚举类
  * LandformType枚举类
  * Resource类
  * ResourceType枚举类
  * MapConfig类

* team.vicilization.gameitem包
  * Unit类
    * Folk类
      * Explorer类
      * Constructor类
    * Fighter类
      * Spearman类
      * Knight类
      * Footman类
      * Archer类
  * UnitInfo类
  * UnitType枚举类
  * UnitSubType枚举类
  * City类
  * CityName枚举类
  * CityFlowValue类
  * CityStockValue类
  * Building类
  * BuildingYieldValue类
  * BuildingType枚举类
  * Producable接口
  * Fightable接口
  * Movable接口
  * Selectable接口
  * SelectableType枚举类
  * SelectableSubType枚举类
  * Affiliable接口
  * GameItemConfig类

* team.vicilization.country包
  * Country类
  * CountryFlowValue类
  * CountryStockValue类
  * CountryName枚举类
  * CountryConfig类

* team.vicilization.mechanics包
  * Giant类
  * GiantType枚举类
  * GiantName枚举类
  * Science类
  * ScienceName枚举类
  * Leader类
  * LeaderName枚举类
  * Trader类
  * MechanicsConfig类

* team.vucilization.util包
  * GlobalConfig类
  * GlobalMethod类
  * Position类

---

## team.vicilazation.controller

---

### Vicilization

* 方法

| 函数原型                  | 效果             |
| ------------------------- | ---------------- |
| void run()                | 开始游戏的主循环 |
| void convertToNextState() | 转入下一个阶段   |

---

### State

* 成员变量

| 类型               | 成员变量名  | 备注             |
| ------------------ | ----------- | ---------------- |
| State              | nextState   | 下一个阶段       |
| boolean            | changeState | 是否应该切换阶段 |
| javax.swing.JPanel | mainPanel   | 主窗口           |

* 方法

| 函数原型            | 效果             |
| ------------------- | ---------------- |
| void display()      | 绘制图像         |
| void firstDisplay() | 首次绘制绘制图像 |
| void handle()       | 处理事件         |

---

### GameStart *extend* State

* 成员变量

| 类型 | 成员变量名 | 备注 |
| ---- | ---------- | ---- |
|      |            |      |

* 方法

| 函数原型 | 效果 |
| -------- | ---- |
|          |      |

---

### Setting *extend* State

* 成员变量

| 类型 | 成员变量名 | 备注 |
| ---- | ---------- | ---- |
|      |            |      |

* 方法

| 函数原型 | 效果 |
| -------- | ---- |
|          |      |

---

### MainGame *extend* State

* 成员变量

| 类型              | 成员变量名      | 备注             |
| ----------------- | --------------- | ---------------- |
| Vector\<Country\> | countries       | 所有的势力       |
| Map               | map             | 游戏地图         |
| Country           | currentPlayer   | 当前回合玩家     |
| Selectable        | currentSelected | 当前被选中的东西 |

* 方法

| 函数原型                                        | 效果                         |
| ----------------------------------------------- | ---------------------------- |
| void selectUnit(Unit unit)                      | 选中被点击的单位单位         |
| void selectCity(City city)                      | 选中被点击的城市             |
| void selectScience(Science science)             | 选择被点击的科技并进行研究   |
| void showCityInfo(City city)                    | 显示被选中城市的信息         |
| void showUnitInfo(Unit unit)                    | 显示被选中单位的信息         |
| void showScienceInfo()                          | 显示当前科技状态             |
| void showScienceTree()                          | 展示科技树                   |
| void changePlayer()                             | 改变当前玩家                 |
| void calculateFlowValue()                       | 计算流量值                   |
| void calculateStockValue()                      | 计算存量值，推进项目         |
| boolean judgeVectory()                          | 判定胜利                     |
| void fight(Fightable fighter, Fightable fought) | fighter攻击fought            |
| void fight(Fightable fighter, City city)        | fighter攻击city              |
| void showGiant()                                | 展示伟人页面                 |
| void recruiteGiant()                            | 招募伟人，包括伟人点数和购买 |
| void showAllowedBuildings()                     | 建造页面显示可以建造的建筑   |
| void showAllowedUnits()                         | 建造页面显示可以建造的单位   |
| void selectProduction(Producable production)    | 建造页面选择进行建造的东西   |
| void startTradeRoute()                          | 开始贸易                     |
| void selectTradeCity()                          | 选择贸易目的地城市的页面     |
| void nextRound()                                | 下一回合                     |

---

### Gameover *extend* State

* 成员变量

| 类型 | 成员变量名 | 备注 |
| ---- | ---------- | ---- |
|      |            |      |

* 方法

| 函数原型 | 效果 |
| -------- | ---- |
|          |      |

---

## team.vicilization.map

### Map

* 成员变量

| 类型                 | 成员变量名  | 备注       |
| -------------------- | ----------- | ---------- |
| Vector\<LandSquare\> | landSquares | 所有的地块 |

* 方法

| 函数原型                 | 效果                                                        |
| ------------------------ | ----------------------------------------------------------- |
| void initMap(int seed=0) | 初始化地图，包括生成各种各样的地形地貌，默认的随机数种子为0 |

---

### LandSquare

* 成员变量

| 类型         | 成员变量名        | 备注                             |
| ------------ | ----------------- | -------------------------------- |
| TerrianType  | terrianType       | 地形类型                         |
| LandformType | landformType      | 地貌类型                         |
| Resource     | recource          | 资源                             |
| Position     | location          | 位置                             |
| CityName     | governor          | 所属城市                         |
| boolean      | isMarked          | 是否被标记（选中城市、单位移动） |
| int          | mobilityCost      | 移动力消耗                       |
| int          | defenceBuff       | 防御力加成                       |
| int          | productivityYield | 生产力产出                       |
| int          | foodYield         | 食物产出                         |
| int          | moneyYield        | 金币产出                         |
| int          | scienceYield      | 科技产出                         |

* 方法

| 函数原型                          | 效果                                       |
| --------------------------------- | ------------------------------------------ |
| void initLandSquare(Position pos) | 根据所在地理位置初始化地形、地貌、资源     |
| ResourceName exploit()            | 开发资源，资源消失，同时改变这一地块的产出 |
| void mark()                       | 标记这一地块                               |
| void unmark()                     | 取消标记                                   |

---

### TerrianType

* 地形
* 枚举值
  > PLAIN, HILL, RIDGE, LAKE, RIVER

---

### LandformType

* 地貌
* 枚举值
  > FOREST, RAINFOREST, FROZENGROUND, DESERT, MARSH

---

### Resource

* 资源

| 类型         | 成员变量名        | 备注       |
| ------------ | ----------------- | ---------- |
| ResourceName | name              | 资源名称   |
| int          | productivityYield | 生产力产出 |
| int          | foodYield         | 食物产出   |
| int          | moneyYield        | 金币产出   |
| int          | scienceYield      | 科技产出   |

---

### ResourceType

* 资源类型
* 枚举值
  > HORSE, IRON, STONE, COPPER......

---

### MapConfig

* 存放这个包中的各个常数

| 类型                         | 成员变量名               | 备注                           |
| ---------------------------- | ------------------------ | ------------------------------ |
| HashMap\<TerrainType, int\>  | TERRAIN_MOVIBILITY_COST  | 地形对应移动力消耗             |
| HashMap\<TerrainType, int\>  | TERRAIN_DEFENCE_BUFF     | 地形对应防御力加成             |
| HashMap\<TerrainType, int\>  | TERRAIN_PRODUCTIVITY     | 地形对应产能                   |
| HashMap\<TerrainType, int\>  | TERRAIN_MONEY            | 地形对应钱                     |
| HashMap\<TerrainType, int\>  | TERRAIN_FOOD             | 地形对应食物                   |
| HashMap\<TerrainType, int\>  | TERRAIN_SCIENCE          | 地形对应科技，下面类似，不写了 |
| HashMap\<LandformType, int\> | LANDFORM_MOVIBILITY_COST |
| HashMap\<LandformType, int\> | LANDFORM_DEFENCE_BUFF    |
| HashMap\<LandformType, int\> | LANDFORM_PRODUCTIVITY    |
| HashMap\<LandformType, int\> | LANDFORM_MONEY           |
| HashMap\<LandformType, int\> | LANDFORM_FOOD            |
| HashMap\<LandformType, int\> | LANDFORM_SCIENCE         |
| HashMap\<ResourceType, int\> | RESOURCE_MOVIBILITY_COST |
| HashMap\<ResourceType, int\> | RESOURCE_DEFENCE_BUFF    |
| HashMap\<ResourceType, int\> | RESOURCE_PRODUCTIVITY    |
| HashMap\<ResourceType, int\> | RESOURCE_MONEY           |
| HashMap\<ResourceType, int\> | RESOURCE_FOOD            |
| HashMap\<ResourceType, int\> | RESOURCE_SCIENCE         |

* 还有其他各种可能的参数，例如初始化地图时用到的各种常数

---

## team.vicilization.gameitem

---

### Unit *implement* Producable *implement* Selectable *implement* Affiliable *implement* Movable

* 成员变量

| 类型        | 成员变量名 | 备注       |
| ----------- | ---------- | ---------- |
| UnitType    | type       | 单位类型   |
| UnitSubType | subType    | 单位子类型 |
| Country     | country    | 所属国家   |
| Position    | position   | 位置       |
| int         | health     | 生命值     |
| UnitInfo    | unitInfo   | 单位信息   |

* 方法

| 函数原型      | 效果     |
| ------------- | -------- |
| void delete() | 删除单位 |

---

### Folk *extend* Unit

* 平民单位

---

### Explorer *extend* Folk

* 开拓者

---

### Constructor *extend* Folk

* 建造者

* 成员变量

| 类型 | 成员变量名 | 备注     |
| ---- | ---------- | -------- |
| int  | times      | 剩余次数 |

* 方法

| 函数原型           | 效果         |
| ------------------ | ------------ |
| void reduceTimes() | 使用次数减少 |

---

### Fighter *extend* Unit *implement* Fightable

* 战斗单位

---

### Spearman *extend* Fighter

* 枪兵

---

### Knight *extend* Fighter

* 骑兵

---

### Footman *extend* Fighter

* 步兵

---

### Archer *extend* Fighter

* 弓兵

---

### UnitInfo

* 单位信息

* 成员变量

| 类型        | 成员变量名       | 备注       |
| ----------- | ---------------- | ---------- |
| int         | attack           | 攻击力     |
| int         | defence          | 防御力     |
| int         | mobility         | 移动力     |
| int         | productivityCost | 生产力消耗 |
| int         | moneyCost        | 购买所需钱 |
| ScienceName | requiredScience  | 所需科技   |
| ResouceName | reauiredResource | 所需资源   |

* 方法

| 函数原型 | 效果 |
| -------- | ---- |

---

### UnitType

* 枚举值
  > FOLK, FIGHTER

---

### UnitSubType

* 枚举值
  > EXPLORER, CONSTRUCTOR, SPEARMAN, KNIGHT, FOOTMAN, ARCHER

---

### City *implement* Affiliable *implement* Selectable

* 成员变量

| 类型                   | 成员变量名           | 备注               |
| ---------------------- | -------------------- | ------------------ |
| CityName               | name                 | 城市名             |
| int                    | population           | 人口               |
| Position               | location             | 位置               |
| Country                | country              | 所属国家           |
| CityFlowValue          | flowValue            | 流量值             |
| CityStockValue         | StockValue           | 存量值             |
| Vector\<LandSquare\>   | territory            | 领土               |
| Vector\<BuildingType\> | constructedBuildings | 已建建筑           |
| Producable             | productingItem       | 正在建造的东西     |
| int                    | cityAttack           | 城市攻击           |
| int                    | cityDefence          | 城市防御           |
| int                    | cityHealth           | 城市生命值         |
| int                    | recovery             | 每回合恢复的生命值 |
| Vector\<BuildingType\> | allowedBuildings     | 可以建造的建筑     |
| Vector\<Unit\>         | allowedUnits         | 可以建造的单位     |

* 方法

| 函数原型                                       | 效果                             |
| ---------------------------------------------- | -------------------------------- |
| void updateStock()                             | 更新存量，涉及到人口的增长与减少 |
| void recover()                                 | 恢复血量                         |
| void produce(Producable production)            | 生产                             |
| void calculateFlowValue()                      | 计算流量                         |
| void addNewUnit(Unit unit)                     | 在市中心位置添加一个单位         |
| void addNewBuilding(BuildingType buildingType) | 添加一个建筑                     |
| boolean belongsTo(Country country)             | 是否属于某个国家                 |
| boolean hasLandform(Landform landform)         | 是否拥有某个地块                 |

---

### CityName

* 枚举值
  > 不举例了。。。

---

### CityFlowValue

* 成员变量

| 类型 | 成员变量名      | 备注 |
| ---- | --------------- | ---- |
| int  | producticity    |      |
| int  | money           |
| int  | food            |
| int  | science         |
| int  | scienctistValue |
| int  | traderValue     |
| int  | engineerValue   |

---

### CityStockValue

* 成员变量

| 类型 | 成员变量名      | 备注 |
| ---- | --------------- | ---- |
| int  | producticity    |
| int  | money           |
| int  | food            |
| int  | science         |
| int  | scienctistValue |
| int  | traderValue     |
| int  | engineerValue   |

---

### Building *implement* Producable

* 成员变量

| 类型               | 成员变量名       | 备注       |
| ------------------ | ---------------- | ---------- |
| BuildingType       | type             | 类型       |
| BuildingYieldValue | yieldValue       | 产出的值   |
| int                | productivityCost | 生产力消耗 |
| int                | moneyCost        | 钱消耗     |
| ScienceName        | requiredScience  | 需要的科技 |

---

### BuildingYieldValue

* 成员变量

| 类型 | 成员变量名      | 备注 |
| ---- | --------------- | ---- |
| int  | science         |
| int  | money           |
| int  | productivity    |
| int  | scienctistValue |
| int  | traderValue     |
| int  | engineerValue   |

---

### BuildingType

* 枚举值
  > COLLEGE, PLAZA, INDUSTRY

---

### Producable

* 方法

| 函数原型               | 效果         |
| ---------------------- | ------------ |
| int moneyCost()        | 消耗的钱     |
| int productivityCost() | 消耗的生产力 |

---

### Fightable

* 方法

| 函数原型         | 效果                                       |
| ---------------- | ------------------------------------------ |
| int getAttack()  |                                            |
| int getDefence() |                                            |
| int getHealth()  |                                            |
| void injure()    | 受伤，可能死                               |
| void die()       | 删除单位，通知所属国家将拥有的这一单位去掉 |

---

### Movable

* 方法

| 函数原型                                    | 效果                 |
| ------------------------------------------- | -------------------- |
| Position currentLocation()                  | 获取单位当前位置     |
| int getMObility()                           | 获取移动力           |
| Vector\<LandSquare\> getAvailableLocation() | 获得所有可能到达的点 |
| void moveTo(Position pos)                   | 移动到指定位置       |

---

### Selectable

* 成员变量

| 类型              | 成员变量名 | 备注           |
| ----------------- | ---------- | -------------- |
| boolean           | selected   | 是否被选择     |
| SelectableType    | type       | 可选择的类型   |
| SelectableSubType | subType    | 可选择的子类型 |

* 方法

| 函数原型                           | 效果                 |
| ---------------------------------- | -------------------- |
| boolean ableToSelect()             | 当前是否可被选择     |
| void setAbleToSelect(boolean able) | 设置当前是否可被选择 |

---

### SelectableType

* 枚举值
  > CITY, UNIT

---

### SelectableSubType

* 枚举值
  > CITY, FOLK, FIGHTER

---

### Affiliable

* 成员变量

| 类型    | 成员变量名 | 备注         |
| ------- | ---------- | ------------ |
| boolean | showDitial | 是否显示细节 |

---

### GameItemConfig

* 存放这个包中的各个常数

| 类型                              | 成员变量名                | 备注               |
| --------------------------------- | ------------------------- | ------------------ |
| HashMap\<BuildingName, Building\> | BUILDING_NAME_TO_BUILDING | 建筑名称对应的建筑 |

* 还有其他各种可能的参数

---

## team.vicilization.country

---

### Country

* 成员变量

| 类型                         | 成员变量名          | 备注                 |
| ---------------------------- | ------------------- | -------------------- |
| Leader                       | leader              | 领袖                 |
| Vector\<City\>               | cities              | 拥有的城市           |
| Vector\<Unit\>               | units               | 拥有的单位           |
| Vector\<Trader\>             | traders             | 拥有的商人           |
| int                          | occupiedTradeRoutes | 已经使用了的贸易路线 |
| int                          | totalTradeRoutes    | 总的贸易路线         |
| HashMap\<ResourceName, int\> | countryResource     | 拥有的资源           |
| Vector\<ScienceName\>        | learntScience       | 已学习的科技         |
| CountryFlowValue             | flowValue           | 流量                 |
| CountryStockValue            | StockValue          | 存量                 |

* 方法

| 函数原型                                        | 效果                         |
| ----------------------------------------------- | ---------------------------- |
| void updateStock()                              | 更新存量                     |
| void pushProject()                              | 推进项目                     |
| void calculateFlowValue()                       | 计算流量                     |
| void CalculateTradeMoney()                      | 计算商路的钱                 |
| City buildNewCity(Position position)            | 建立新城市                   |
| void occupyCity(City city)                      | 占领城市                     |
| void loseCity(City city)                        | 失去城市                     |
| Unit addNewUnit(Position postion)               | 增加新单位                   |
| void deleteUnit(Unit unit)                      | 删除单位                     |
| void selectScience(ScienceName scienceName)     | 选择科技进行研究             |
| ScienceName finishScience()                     | 研究完成                     |
| ResourceType harvestResource(Landform landform) | 收获资源                     |
| void addTradeRoute()                            | 贸易路线增加                 |
| void startTradeRoute(Trader trader, City city)  | 开始贸易                     |
| void tradeAdvance()                             | 推进贸易                     |
| void endTrade(Trader trader)                    | 贸易结束                     |
| void recruiteGiant(Giant giant)                 | 招募得到伟人，包括购买或点数 |
| boolean judgeVactory()                          | 判定胜利                     |
| boolean hasCity(City city)                      | 是否拥有城市                 |

---

### CountryFlowValue

* 成员变量

| 类型 | 成员变量名      | 备注 |
| ---- | --------------- | ---- |
| int  | money           |
| int  | science         |
| int  | scienctistValue |
| int  | traderValue     |
| int  | engineerValue   |

---

### CountryStockValue

* 成员变量

| 类型 | 成员变量名      | 备注 |
| ---- | --------------- | ---- |
| int  | money           |
| int  | science         |
| int  | scienctistValue |
| int  | traderValue     |
| int  | engineerValue   |

---

### CountryName

* 枚举值
  > 不举例了

---

### CountryConfig

* 各种用到的游戏参数

## team.vicilization.mechanics

### Giant

* 成员变量

| 类型            | 成员变量名        | 备注       |
| --------------- | ----------------- | ---------- |
| int             | giantValueCost    | 消耗伟人点 |
| int             | moneyCost         | 赞助花费   |
| GiantYieldValue | yieldValue        | 产出值     |
| GiantName       | name              | 名字       |
| GiantType       | type              | 类型       |
| int             | yieldSciencePoint | 产出科技点 |
| int             | yieldMoney        | 产出钱     |
| int             | yieldProductivity | 产出生产力 |

---

### GiantType

* 枚举值
  > SCIENTIST, TRADER, ENGINEER

---

### GiantName

* 枚举值
  > 不举例了

---

### Science

* 成员变量

| 类型        | 成员变量名  | 备注       |
| ----------- | ----------- | ---------- |
| ScienceName | name        | 名称       |
| Science     | preScience  | 前置科技   |
| Science     | nextScience | 后置科技   |
| int         | scienceCost | 科技点消耗 |

---

### ScienceName

* 枚举值
  > 不举例了

---

### Leader

* 成员变量

| 类型        | 成员变量名  | 备注     |
| ----------- | ----------- | -------- |
| LeaderName  | name        | 名字     |
| CountryName | nationality | 国籍     |
| Unit        | specialUnit | 特殊单位 |

* 方法

| 函数原型                     | 效果           |
| ---------------------------- | -------------- |
| void specialInitSkill()      | 特殊初始化技能 |
| void specialPermanentSkill() | 特殊永续技能   |

---

### LeaderName

* 枚举值
  > 不举例了

---

### Trader

* 成员变量

| 类型 | 成员变量名 | 备注       |
| ---- | ---------- | ---------- |
| City | aimCity    | 目标城市   |
| int  | lastTime   | 剩余时间   |
| int  | benefits   | 每回合收益 |

* 方法

| 函数原型                   | 效果                 |
| -------------------------- | -------------------- |
| void startTrade(City city) | 向目的地城市开始贸易 |

---

### MechanicsConfig

* 各种配置，例如计算贸易收益的常数，伟人的收益，科技点的要求

---

## team.vucilization.util

---

### GlobalConfig

* 全局参数，如果觉得应该放在这里的话

---

### GlobalMethod

* 全局的函数，如果觉得应该放在这里

---

### Position

* 成员变量

| 类型 | 成员变量名 | 备注 |
| ---- | ---------- | ---- |
| int  | x          |
| int  | y          |

* 方法

| 函数原型                                  | 效果                     |
| ----------------------------------------- | ------------------------ |
| Vector\<int\> toScreenPosition()          | 将地图坐标转化为屏幕坐标 |
| Position fromScreenPosition(int x, int y) | 将屏幕坐标转化为地图坐标 |

---